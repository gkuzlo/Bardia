var UI={version:1,uploadAction:"http://localhost:8080/scheduler/file.upload",DATE_FORMAT:"yyyy-MM-ddTHH:mm:ss.SSSZ",DATE_YYYMMMDDD_FORMAT:"yyyy-MM-dd",VISIBLE:1,READONLY:2,HIDDEN:4};UI.play=function(a,b){a.animate(b,{direction:"normal",duration:1e3,easing:"ease",iterations:1,fill:"both"})},$PLAY=UI.play,UI.Header=Class.create({initialize:function(a){this.config=Object.extend({inside:window.document.body,title:"Insert title here ...",className:"bg_main fg_white"},a||{}),this.render()},render:function(){var a=this;a.header=new Element("DIV",{className:"header "+a.config.className}),a.header.insert(a.config.title),a.config.inside.insert(a.header)},addHeaderElement:function(a){this.header.insert(a.getHTML())}}),UI.Content=Class.create({initialize:function(a){this.config=Object.extend({inside:window.document.body},a||{}),this.render()},render:function(){var a=this;a.content=new Element("DIV",{"class":"content bg_white fg_black"}),a.config.inside.insert(a.content)},getMaterial:function(){return this.content}}),UI.HeaderDialog=Class.create({initialize:function(a){this.config=Object.extend({inside:window.document.body,title:"Insert title here ...",icon:"icons/1/ic_view_headline_white_24dp.png",width:400,height:300},a||{}),this.render()},render:function(){var a=this;this.icon=new Element("IMG",{src:a.config.icon,title:a.config.title,style:"vertical-align:middle; margin:0px 10px 0px 10px"}),this.icon.on("click","img",function(b){new UI.ContextMenu({parent:b.element(),width:a.config.width,height:a.config.height,onShow:function(b,c){void 0!==a.config.onShow&&a.config.onShow(b,c)}})})},getHTML:function(){return this.icon},close:function(){alert("Closing .... ")}}),UI.HeaderButton=Class.create({initialize:function(a){this.config=Object.extend({inside:window.document.body,title:"Insert title here ...",icon:"icons/1/ic_view_headline_white_24dp.png"},a||{}),this.render()},render:function(){var a=this;this.icon=new Element("IMG",{src:a.config.icon,title:a.config.title,style:"vertical-align:middle; margin:0px 10px 0px 10px"}),void 0!==a.config.onClick&&a.config.onClick()},getHTML:function(){return this.icon}}),UI.HeaderLabel=Class.create({initialize:function(a){this.config=Object.extend({inside:window.document.body,title:"Insert title here ..."},a||{}),this.render()},render:function(){this.div=new Element("DIV",{style:"display:inline-block; color:white; margin:0px 10px 0px 10px"}),this.div.update(this.config.title)},setTitle:function(a){this.div.update(a);this.div.animate([{opacity:0,transform:"scale(1)",color:"#fbd86e"},{opacity:1,transform:"scale(1)",color:"#ffffff"}],{direction:"normal",duration:500,easing:"ease-in-out",iterations:1})},getHTML:function(){return this.div}}),UI.ContextMenu=Class.create({initialize:function(a){this.config=Object.extend({width:400,height:300},a||{}),this.render()},render:function(){var a=this,b=this.config.parent.getBoundingClientRect();new UI.Dialog({top:b.top+b.height,left:b.left,width:a.config.width,height:a.config.height,onShow:function(b,c){void 0!==a.config.onShow&&a.config.onShow(b,c)}})}}),UI.Dialog=Class.create({initialize:function(a){this.config=Object.extend({top:100,left:100,width:300,height:400},a||{}),this.render()},render:function(){var a=this;this.bg=new Element("DIV",{style:"position:absolute; top:0px; left:0px; right:0px; bottom:0px"}),this.bg1=new Element("DIV",{"class":"bg_main",style:"position:absolute; top:0px; left:0px; right:0px; bottom:0px; opacity:0.5;"}),this.bg1.on("click","div",function(b){a.close()}),this.bg.insert(this.bg1),document.body.insert(this.bg),this.dlg=new Element("DIV",{style:"background-color:white; position:absolute; top:"+a.config.top+"px; left:"+a.config.left+"px; width:"+a.config.width+"px; height:"+a.config.height+"px; z-index:1000000","class":"default_shadow"}),this.bg.insert(this.dlg),this.config.onShow&&this.config.onShow(a.dlg,this)},close:function(){delete this.dlg,delete this.bg1,this.bg.remove()}}),UI.Toast=Class.create({initialize:function(a){this.config=Object.extend({title:"DEFAULT_TOAST",description:"DEFAULT_TOAST_HTML"},a||{})},show:function(){var a=this;this.div=new Element("DIV",{style:"opacity:1.0; position:relative; width:300px; height:100px; display:block; margin:2px; opacity:0.0","class":"default_shadow"});var b=new Element("DIV",{"class":"toast"});this.div.insert(b);var c=new Element("DIV",{"class":"toast_title"});c.update(a.config.title),b.insert(c);var d=new Element("DIV",{"class":"toast_description"});return d.update(a.config.description),b.insert(d),a.div},added:function(){var a=this,b=this.div.animate([{opacity:0,transform:"scale(0)"},{opacity:1,transform:"scale(1)"}],{direction:"normal",easing:"ease-in-out",duration:750,iterations:1,fill:"both"});b.onfinish=function(b){var c=function(){a.close()};setTimeout(c,5e3)}},close:function(){var a=this,b=this.div.animate([{opacity:1,transform:"scale(1)"},{opacity:0,transform:"scale(0)"}],{direction:"normal",duration:750,easing:"ease-in-out",iterations:1,fill:"both"});b.onfinish=function(b){a.div.remove()}}}),UI.ToastManager=Class.create({initialize:function(a){this.config=Object.extend({},a||{}),this.render()},render:function(){this.div=new Element("DIV",{style:"position:absolute; top:70px; right:400px; width:300px; z-index:2000000; background-color:transparent"}),window.document.body.insert(this.div)},showToast:function(a,b,c){var d=a,e=b;void 0!==c&&(d=d,e=e);var f=new UI.Toast({title:d,description:e,level:0});this.div.insert(f.show()),f.added();var g=function(){f.close()};setTimeout(g,5e3)}}),UI.StringUtils=Class.create({initialize:function(a){this.config=Object.extend({},a||{})},compile:function(str,bean){for(var result=str,found=[],rxp=/{([^}]+)}/g,curMatch;curMatch=rxp.exec(str);)found.push(curMatch[1]);var i=0;for(i=0;i<found.length;i++)try{var val=eval("bean."+found[i]);result=void 0!==val?result.replace("{"+found[i]+"}",val):result.replace("{"+found[i]+"}","")}catch(e){result=result.replace("{"+found[i]+"}","")}return result},unempty:function(a){var b="";return void 0!==a&&(b=a),b}});var STRUTILS=new UI.StringUtils;UI.CookieManager=Class.create({initialize:function(a){},setCookie:function(a,b){var c=100;if(c){var d=new Date;d.setTime(d.getTime()+24*c*60*60*1e3);var e="; expires="+d.toGMTString()}else var e="";document.cookie=a+"="+b+e+"; path=/"},getCookie:function(a){for(var b=a+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var e=c[d];" "==e.charAt(0);)e=e.substring(1,e.length);if(0==e.indexOf(b))return e.substring(b.length,e.length)}return null}}),UI.Resources=Class.create({initialize:function(a,b){this.path=a,this.postfix="";var c=new UI.CookieManager;if(null!=c.getCookie("lang_"+b)){var d=c.getCookie("lang_"+b).evalJSON();this.postfix=d.fileExt}this.properties=new Hash},load:function(){var a=this;try{new Ajax.Request(this.path+this.postfix+".properties?ts="+new Date,{method:"GET",contentType:"text/plain",onSuccess:function(b){var c=b.responseText||"no response text",d=c.split("\n"),e=0;for(e=0;e<d.length;e++)try{if(0==d[e].trim().indexOf("#"))continue;var f=d[e].indexOf("="),g=d[e].substr(0,f).trim(),h=d[e].substr(f+1).trim();""!=g&&a.properties.set(g,h)}catch(i){alert(i)}a.onLoad()},onFailure:function(a){$SIGNAL("failure")}})}catch(b){alert(b)}},get:function(a,b){var c="";return void 0===(c=this.properties.get(a))&&(c="???_"+a+"_???"),void 0!==b&&(c=STRUTILS.compile(c,b)),c}});