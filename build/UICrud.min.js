UI.Crud=Class.create(UI.MaterialComponent,{initConfig:function(a){this.config=Object.extend({},a||{})},render:function(){var a=this;void 0!==a.config.list&&(a.config.list.inside=a.getMaterial(),a.list=new UI.List(a.config.list)),a.curtain=new Element("DIV",{style:"position:absolute; top:0px; left:0px; right:0px; bottom:0px; opacity:0.9; display:none","class":"bg_main"}),a.getMaterial().insert(a.curtain),a.mat=new UI.Material({inside:a.getMaterial(),effect:"from-right",position:"top:0px; right:0px; bottom:0px; width:350px"}),void 0!==a.config.form&&(a.config.form.inside=a.mat.getMaterial(),a.form=new UI.Form(a.config.form))},openForm:function(a){var b=this;void 0!==a&&b.form.setBean(a),b.curtainOn(),b.mat.show()},closeForm:function(){var a=this;a.curtainOff(),a.mat.hide(),a.config.onCloseForm&&a.config.onCloseForm()},updateForm:function(a){var b=this;b.form.setBean(a)},getForm:function(){return this.form},getBean:function(){var a=this;return a.form.getBean()},curtainOn:function(){var a=this;a.curtain.setStyle({display:"block"});a.curtain.animate([{opacity:0},{opacity:.8}],{direction:"normal",duration:200,easing:"ease",iterations:1,fill:"both"})},curtainOff:function(){var a=this,b=a.curtain.animate([{opacity:.8},{opacity:0}],{direction:"normal",duration:200,easing:"ease",iterations:1,fill:"both"});b.onfinish=function(b){a.curtain.setStyle({display:"none"})}},fetchList:function(a){var b=this;b.list.fetch({rows:a})}});