<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>dist\mdl\bardia.js - Bardia</title>
    <link rel="stylesheet" href="http://yui.yahooapis.com/3.9.1/build/cssgrids/cssgrids-min.css">
    <link rel="stylesheet" href="../assets/vendor/prettify/prettify-min.css">
    <link rel="stylesheet" href="../assets/css/main.css" id="site_styles">
    <link rel="icon" href="../assets/favicon.ico">
    <script src="http://yui.yahooapis.com/combo?3.9.1/build/yui/yui-min.js"></script>
</head>
<body class="yui3-skin-sam">

<div id="doc">
    <div id="hd" class="yui3-g header">
        <div class="yui3-u-3-4">
                <h1><img src="../assets/css/logo.png" title="Bardia" width="117" height="52"></h1>
        </div>
        <div class="yui3-u-1-4 version">
            <em>API Docs for: 1.0</em>
        </div>
    </div>
    <div id="bd" class="yui3-g">

        <div class="yui3-u-1-4">
            <div id="docs-sidebar" class="sidebar apidocs">
                <div id="api-list">
                    <h2 class="off-left">APIs</h2>
                    <div id="api-tabview" class="tabview">
                        <ul class="tabs">
                            <li><a href="#api-classes">Classes</a></li>
                            <li><a href="#api-modules">Modules</a></li>
                        </ul>
                
                        <div id="api-tabview-filter">
                            <input type="search" id="api-filter" placeholder="Type to filter APIs">
                        </div>
                
                        <div id="api-tabview-panel">
                            <ul id="api-classes" class="apis classes">
                                <li><a href="../classes/bardia.layout.BorderLayout.html">bardia.layout.BorderLayout</a></li>
                                <li><a href="../classes/bardia.layout.Material.html">bardia.layout.Material</a></li>
                            </ul>
                
                            <ul id="api-modules" class="apis modules">
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div class="yui3-u-3-4">
                <div id="api-options">
                    Show:
                    <label for="api-show-inherited">
                        <input type="checkbox" id="api-show-inherited" checked>
                        Inherited
                    </label>
            
                    <label for="api-show-protected">
                        <input type="checkbox" id="api-show-protected">
                        Protected
                    </label>
            
                    <label for="api-show-private">
                        <input type="checkbox" id="api-show-private">
                        Private
                    </label>
                    <label for="api-show-deprecated">
                        <input type="checkbox" id="api-show-deprecated">
                        Deprecated
                    </label>
            
                </div>
            
            <div class="apidocs">
                <div id="docs-main">
                    <div class="content">
<h1 class="file-heading">File: dist\mdl\bardia.js</h1>

<div class="file">
    <pre class="code prettyprint linenums">
var bardia = {
};
bardia.oop = {
}
bardia.oop.Class = (function() {

    function create(body) {

        function klass(config) {
            this.initialize(config); 
        }

        for (fun in body) {
            klass.prototype[fun] = body[fun];
        }

        return klass;
    }

    function extend(target, source) {
        for (var prop in source) {
            target[prop] = source[prop];
        }

        return target;
    }

    function inherit(_function, body) {
    	function klass(config) {
    		this.initialize(config);
    	}

    	var attribute = null;
    	for (attribute in _function.prototype) {
    		klass.prototype[attribute] = _function.prototype[attribute];
    	}
    	for (attribute in body) {
    		klass.prototype[attribute] = body[attribute];
    	}    
    	
    	return klass;
    }

    return {
        create: create,
        extend: extend,
        inherit: inherit
    };
    
})();
/**
 *
 */
bardia.dom = {

};

/**
 * creates an element
 */
$_element = (function() {
    function create(jsonRoot) {
        return new bardia.dom.Element(jsonRoot);
    }
    return create;
})();
/**
 *
 */
bardia.dom.Element = bardia.oop.Class.create({

    initialize: function(jsonRoot) {
        this.children = [];

        if (jsonRoot instanceof HTMLElement) {
            this.wrapOnly(jsonRoot);
        } else if (jsonRoot) {
            this.createRoot(jsonRoot);
        }
    },

    wrapOnly: function(jsonRoot) {
        this.domNode = jsonRoot;
        jsonRoot.wrapper = this;
    },

    createRoot: function(jsonRoot) {
        var h = this;
        
        this.domNode = document.createElement(jsonRoot.$_tag);
        this.domNode.wrapper = this;

        for (attr in jsonRoot) {
            if (!attr.startsWith(&quot;$_&quot;)) {
                this.domNode.setAttribute(attr, jsonRoot[attr]);
            }
        }

        if (jsonRoot.$_append &amp;&amp; jsonRoot.$_append.forEach) {		// kolekcja obiektow w JSON
            jsonRoot.$_append.forEach(function(child) {
                h.createSubElement(child);
            });
        } else if (jsonRoot.$_append &amp;&amp; jsonRoot.$_append.$_tag) { // jeden obiekt w json
        	h.createSubElement(jsonRoot.$_append);
        } else if (jsonRoot.$_append) {
            this.domNode.innerHTML = jsonRoot.$_append;				// zwykly tekst
        }

        if (jsonRoot.$_props) {
            for (prop in jsonRoot.$_props) {
            	this.domNode[prop] = jsonRoot.$_props[prop];
            }
        }
        
        if (jsonRoot.$_on) {
            for (eventName in jsonRoot.$_on) {
                this.domNode.addEventListener(eventName, jsonRoot.$_on[eventName]);
            }
        }
    },

    createSubElement: function(jsonSubElement) {
        var subElement = new bardia.dom.Element(jsonSubElement);
        this.insert(subElement);
    },

    insert: function(subElement) {
        try {
            if (subElement) {
            	if (subElement.dom) {
            		this.domNode.appendChild(subElement.dom());
            		this.children.push(subElement);
            	} else if ((typeof subElement) == &#x27;string&#x27;) {
            		var element = document.createTextNode(subElement);
            		this.domNode.appendChild(element);
            	} else if ((typeof subElement) == &#x27;number&#x27;) {
            		var element = document.createTextNode(subElement);
            		this.domNode.appendChild(element);
            	}                   
            }
        } catch (e) {
            alert(&quot;insert: subElement=&quot; + subElement + &quot; &quot; + e);
        }
        
        return subElement;
    },

    update: function(element) {
    	var h = this;
    	
    	(this.children || []).forEach(function(child) {
    		delete child.dom().wrapper;
    		h.dom().removeChild(child.dom());
    	});
    	
    	if (this.children) {
    		this.children.splice(0, this.children.length);
    	}
    	
        while (this.dom().firstChild) {
            this.dom().removeChild(this.dom().firstChild);
        }

        if (element) { 
        	this.insert(element);
        }
    },

    dom: function() {
        return this.domNode;
    },

    find: function(id) {
        var result = null;
        try {
        	result = this.domNode.querySelector(&quot;#&quot; + id);
        } catch (e) {
        	alert(e + &quot;   &quot; + id);
        }

        if (result !== null) {
            return result.wrapper;
        } else {
            return null;   
        }
    },
    
    findByClass: function(className) {
        var result = null;
        try {
        	result = this.domNode.querySelector(className);
        } catch (e) {
        	alert(e + &quot;   &quot; + className);
        }

        if (result != null &amp;&amp; result.wrapper) {
        	return result.wrapper;
        } else if (result != null &amp;&amp; !result.wrapper) {
        	return $_element(result);
        } else {
            return null;   
        }    	
    },

    addClassName: function(className) {
    	this.dom().className = this.dom().className + &quot; &quot; + className;
    },
    
    removeClassName: function(className) {
    	this.dom().className = this.dom().className.replace(className, &quot;&quot;);
    },
    
    hasClassName: function(className) {
    	return this.dom().className.indexOf(className) &gt; -1;
    },
    
    setStyle: function(style) {
    	var s = null;
    	for (s in style) {
    		this.dom().style[s] = style[s];
    	}
    }
});
/**
 *
 */
$_upgradeElement = (function() {
    
    function materialize(root) {
        componentHandler.upgradeElement(root.dom());
        (root.children || []).forEach(function(node) {
            $_upgradeElement(node);
        });
    }

    return materialize;
})();
bardia.utils = {
}

function $msg(message) {
    return message;
}

bardia.utils.DateUtils = bardia.oop.Class.create({

    initialize: function(config) {

    },

    formatDateYYYYMMDD: function(date) {
    	var result = &quot;&quot;;
    	try {
    		result = date.getFullYear() + &quot;-&quot; + this.formatMM((date.getMonth() + 1)) + &quot;-&quot; + this.formatDD(date.getDate());
    	} catch (e) {
    		result = &quot;&quot;;
    	}
    	return result;
    },
    
    formatDateHHmm: function(date) {
    	var result = &quot;&quot;;
    	try {
    		result = this.formatMM((date.getHours())) + &quot;:&quot; + this.formatMM(date.getMinutes());
    	} catch (e) {
    		alert(e);
    		result = &quot;&quot;;
    	}
    	return result;
    },
    
    daySecondsToHHMM: function(daySeconds) {
    	var result = &quot;&quot;;
    	
    		if (daySeconds) {
	    		var hours = (daySeconds - (daySeconds % 3600)) / 3600;
	    		
	    		var restSeconds = (daySeconds - hours * 3600);
	    		var minutes = (restSeconds - (restSeconds % 60)) / 60;
	    		
	    		result = this.formatHH(hours) + &quot;:&quot; + this.formatMM(minutes);
    		}
    		
    	return result;
    },
    
    parseDate: function() {
    	
    },
    
    formatMM: function(month) {
    	if (month &lt;= 9) {
    		return &quot;0&quot; + month;
    	} else {
    		return &quot;&quot; + month;
    	}
    },
    
    formatDD: function(day) {
    	if (day &lt;= 9) {
    		return &quot;0&quot; + day;
    	} else {
    		return &quot;&quot; + day;
    	}
    },
    
    formatHH: function(hour) {
    	if (hour &lt;= 9) {
    		return &quot;0&quot; + hour;
    	} else {
    		return &quot;&quot; + hour;
    	}
    },
    
    createFormatYYYYMMDD: function(time) {
    	var result = &quot;&quot;;
    	try {
    		if (time)
    			result = this.formatDateYYYYMMDD(new Date(time));	
    	} catch (e) {
    		alert(e);
    	}
    	return result;
    },

    createFormatHHmm: function(time) {
    	var result = &quot;&quot;;
    	try {
    		if (time)
    			result = this.formatDateHHmm(new Date(time));	
    	} catch (e) {
    		alert(e);
    	}
    	return result;
    }
});

bardia.utils.DateUtils.pattern = &quot;&quot;;
bardia.layout = {
};
/**
 * @class bardia.layout.BorderLayout
 * @constructor
 *
@example
~~~
var layout = new bardia.layout.BorderLayout({
   inside: $_element(document.body),
   north: {
        height: 20
   }
});
~~~
 */
bardia.layout.BorderLayout = bardia.oop.Class.create({

	initialize: function(config) {
		bardia.oop.Class.extend(this, bardia.oop.Class.extend({}, config));
        
		try {
			this.render();
		} catch (e) {
			alert(&quot;BorderLayout.render: &quot; + e);
		}
	},

    render: function() {
    	var h = this;
        
        var centerTop = 0;
        var centerBottom = 0;
        var centerLeft = 0;
        var centerRight = 0;

        if (h.north !== undefined) {
            centerTop = h.north.height || 50;
            
            h.northElement = $_element({
                $_tag: &quot;div&quot;,
                class: &quot;border-layout-north&quot;,
                style: &quot;height:&quot; + centerTop + &quot;px; background-color:&quot; + (h.north.fill || &quot;transparent&quot;)
            });

            this.inside.insert(h.northElement);
        }
        
        if (this.south !== undefined) {
            centerBottom = this.south.height || 50;

            h.southElement = $_element({
                $_tag: &quot;div&quot;,
                class: &quot;border-layout-south&quot;,
                style: &quot;height:&quot; + centerBottom + &quot;px; background-color:&quot; + (h.south.fill || &quot;transparent&quot;)
            });
            
            this.inside.insert(h.southElement);
        }
        
        if (this.west !== undefined) {
            centerLeft = this.west.width || 50;
            
            h.westElement = $_element({
                $_tag: &quot;div&quot;,
                style: &quot;position:absolute; overflow:hidden; top:&quot; + centerTop + &quot;px; left:0px; width:&quot; + centerLeft + &quot;px; bottom:&quot; + centerBottom + &quot;px; background-color:&quot; + (h.west.fill || &quot;transparent&quot;)
            });

            h.inside.insert(h.westElement);
        }
        
        if (this.east !== undefined) {
            centerRight = this.east.width || 50;

            h.eastElement = $_element({
                $_tag: &quot;div&quot;,
                style: &quot;position:absolute; overflow:hidden; top:&quot; + centerTop + &quot;px; right:0px; width:&quot; + centerRight + &quot;px; bottom:&quot; + centerBottom + &quot;px; background-color:&quot; + (h.east.fill || &quot;transparent&quot;)
            });

            this.inside.insert(h.eastElement);
        }

        h.centerElement = $_element({
            $_tag: &quot;div&quot;,
            style: &quot;position:absolute; overflow:hidden; top:&quot; + centerTop + &quot;px; left:&quot; + centerLeft + &quot;px; right:&quot; + centerRight + &quot;px; bottom:&quot; + centerBottom + &quot;px; background-color:&quot; + (h.fill || &quot;transparent&quot;)
        });

        h.inside.insert(h.centerElement);
    },
    /**
     * @method getNorth()
     * @return {bardia.dom.Element} instance of bradia dom element wrapper
     */
    getNorth: function() {
        return this.northElement;
    },
    getWest: function() {
        return this.westElement;
    },
    getEast: function() {
        return this.eastElement;
    },
    getSouth: function() {
        return this.southElement;
    },
    getCenter: function() {
        return this.centerElement;
    },
    getDefault: function() {
        return this.centerElement;
    },
});
/**

Materiał, który wysuwa się po wywołaniu metody show().
Po wywołaniu metody hide() - ucieka.
Może się wysuwać z róznych stron: left, right, top, button.
Jeżeli jest modalny to podczas wysuwania pojawia sie pod nim półprzeźroczysta kurtyna, która sprawia,
że kontet parenta jest lekko zasłonięty.

Animacja odbywa się w ten sposób, że materiał się wysuwa z jednej ze stron parenta (na przykład na gridzie, parenta podajemy w inside) a w tym czasie kurtyna zasłania obaszar grida.
Komponent jest appendowany do inside&#x27;a - czyli nie podmienia jego zawartości.

@class bardia.layout.Material
@constructor new bardia.lazout.Material();
@param config {JSONObject}
@param config.inside {bardia.dom.Element}
@param config.size=30 {Integer}
@param config.unit=&#x27;%&#x27; {String -&gt; &#x27;px&#x27;|&#x27;%&#x27;}
@param config.edge=&#x27;left&#x27; {String -&gt; &#x27;top&#x27;|&#x27;right&#x27;|&#x27;bottom&#x27;|&#x27;left&#x27;}
@param config.modal=false {Boolean -&gt; true|false}
 
@example
~~~
var material = new bardia.layout.Material({
   inside: $_element(document.body),
   size: 90,
   unit: &quot;%&quot;,
   edge: &quot;left&quot;
});

material.show();

material.getContent().insert($_element({
    $_tag: &quot;DIV&quot;,
    $_append: &quot;this is div content&quot;
}));

~~~
 */
bardia.layout.Material = (function() {

    var h = this;

    function Material(config) {
    }

    /**
     * @method show()
     */
    Material.prototype.show = function() {
        
    }
    
    /**
     * @method hide()
     */
    Material.prototype.hide = function() {

    }
    
    /**
     * @method getContent()
     * @return {bardia.dom.Element}
     */
    Material.prototype.getContent = function() {

    }
    
    return Material;
})();
/**
 *
 */
bardia.layout.Panel = bardia.oop.Class.create({

    initialize: function(config) {
        bardia.oop.Class.extend(this, bardia.oop.Class.extend({
            title: &quot;Insert title here ...&quot;,
            serial: &quot;S_&quot; + (Math.random()*1000000).toFixed(0),
        }, config));

        this.render();
    },

    render: function() {
        var h = this;

        h.prepareRoot();
        h.inside.update(h.root);
        
        h.setButtons();
    },
    
    setButtons: function() {
    	var h = this;
    	if (h.buttons) {
    		h.buttons.forEach(function(button) {
    			h.root.find(h.id(&quot;toolbar&quot;)).insert($_element({
    				$_tag: &quot;button&quot;,
    				class: &quot;mdl-button mdl-js-button mdl-button--icon&quot;,
    				title: button.name,
    				$_append: [{
    					$_tag: &quot;i&quot;,
    					class: &quot;material-icons&quot;,
    					$_append: button.icon
    				}],
    				$_on: {
    					&quot;click&quot;: function(e) {
    						button.onClick();
    					}
    				}
    			}));
    		});
    	}
    },
    
    getContent: function() {
    	return this.root.find(this.id(&quot;contents&quot;));
    },

    prepareRoot: function() {
        var h = this;
        
        h.root = $_element({
        	$_tag: &quot;div&quot;,
        	class: &quot;panel-container&quot;,
        	$_append: [{
        		$_tag: &quot;div&quot;,
        		id: h.id(&quot;toolbar&quot;),
        		class: &quot;panel-top panel-bg&quot;
        	}, {
        		$_tag: &quot;div&quot;,
        		class: &quot;panel-content&quot;,
        		id: h.id(&quot;contents&quot;)
        	}]
        });
    },
    
    id: function(name) {
    	return this.serial + name;
    }
});
bardia.layout.BreadCrumb = bardia.oop.Class.create({
    
    initialize: function(config) {
    	bardia.oop.Class.extend(this, bardia.oop.Class.extend({
    		tabs: [],
    		addedTabs: [],
    		serial: &quot;S_&quot; + (Math.random()*1000000).toFixed(0),
    	}, config));
    	
    	this.render();
    },
    
    render: function() {
        var h = this;

        h.root = h.prepareRoot();
        h.inside.update(h.root);
    },

    addItem: function(tab) {
    	var h = this;

    	var headerLink = $_element({
    		$_tag: &quot;div&quot;,
    		class: &quot;breadcrumb-link&quot;,
    		$_append: tab.name,
    		$_on: {
    			&quot;click&quot;: function(e) {
    				h.selectItem(e.target.wrapper);
    			}
    		}
    	});
    	headerLink.tab = tab;
    	
    	h.root.find(h.id(&quot;header&quot;)).insert(headerLink);
    	
    	var content = $_element({
    		$_tag: &quot;div&quot;,
    		class: &quot;breadcrumb-content&quot;
    	});
    	h.root.find(h.id(&quot;contents&quot;)).insert(content);
    	
    	headerLink.content = content;
    	
    	if (h.lastItem) {
			h.lastItem.nextItem = headerLink;
    	} 
    	
    	h.selectItem(headerLink);
    },
    
    selectItem: function(wrappedElement) {
    	var h = this;

    	if (h.lastItem) {		
    		h.lastItem.removeClassName(&quot;is-active&quot;);
    		h.lastItem.content.removeClassName(&quot;is-active&quot;);
    	}

    	h.removeAllNextItems(wrappedElement);

    	h.lastItem = wrappedElement;

    	wrappedElement.addClassName(&quot;is-active&quot;);
    	wrappedElement.content.addClassName(&quot;is-active&quot;);

		if (wrappedElement.tab.onActivate &amp;&amp; !wrappedElement.activated) {
			wrappedElement.activated = true;
			wrappedElement.tab.onActivate(wrappedElement.content);
		}
    },

    removeAllNextItems: function(headerLink) {    	
    	var selectedLink = headerLink;
    	
    	var toBeRemoved = [];
    	while (selectedLink.nextItem) {
    		toBeRemoved.push(selectedLink.nextItem);
    		selectedLink = selectedLink.nextItem;
    	}

    	headerLink.nextItem = null;
    	delete headerLink.nextItem;
    	
    	toBeRemoved.forEach(function(header) {
    		header.dom().remove();
    		header.content.dom().remove();
    		
    		if (header.nextItem) {
    			delete header.nextItem;
    		}
    	});
    },

    prepareRoot: function() {
    	var h = this;
    	
        var json = {
            $_tag: &quot;div&quot;, 
            class: &quot;breadcrumb-container&quot;,
            $_append: [{
                $_tag: &quot;main&quot;, 
                class: &quot;breadcrumb-contents&quot;, 
                id: h.id(&quot;contents&quot;),
            }, {
                $_tag: &quot;div&quot;, 
                class: &quot;breadcrumb-header breadcrumb-bg&quot;, 
                id: h.id(&quot;header&quot;),
            }]
        };

        return $_element(json);
    },
    
    id: function(name) {
    	return this.serial + name;
    }
});
bardia.layout.Tabs = bardia.oop.Class.create({
    
    initialize: function(config) {
    	bardia.oop.Class.extend(this, bardia.oop.Class.extend({
    		tabs: [],
    		addedTabs: [],
    		serial: &quot;S_&quot; + (Math.random()*1000000).toFixed(0),
    	}, config));
    	
    	this.render();
    },
    
    render: function() {
        var h = this;

        h.root = h.prepareRoot();
        h.inside.update(h.root);

        var headerLink = null;
        h.tabs.forEach(function(tab) {
        	headerLink = h.addItem(tab);
        });
        
        if (headerLink != null) {
        	h.selectItem(headerLink);
        }
    },

    addItem: function(tab) {
    	var h = this;

    	var headerLink = $_element({
    		$_tag: &quot;div&quot;,
    		class: &quot;tabs-link&quot;,
    		$_append: tab.name,
    		$_on: {
    			&quot;click&quot;: function(e) {
    				h.selectItem(e.target.wrapper);
    			}
    		}
    	});
    	headerLink.tab = tab;
    	
    	h.root.find(h.id(&quot;header&quot;)).insert(headerLink);
    	
    	var content = $_element({
    		$_tag: &quot;div&quot;,
    		class: &quot;tabs-content&quot;
    	});
    	h.root.find(h.id(&quot;contents&quot;)).insert(content);
    	
    	headerLink.content = content;

    	return headerLink;
    },
    
    selectItem: function(wrappedElement) {
    	var h = this;

    	if (h.selectedItem) {		
    		h.selectedItem.removeClassName(&quot;is-active&quot;);
    		h.selectedItem.content.removeClassName(&quot;is-active&quot;);
    	}
    	
    	h.selectedItem = wrappedElement;

    	wrappedElement.addClassName(&quot;is-active&quot;);
    	wrappedElement.content.addClassName(&quot;is-active&quot;);

		if (wrappedElement.tab.onActivate &amp;&amp; !wrappedElement.activated) {
			wrappedElement.activated = true;
			wrappedElement.tab.onActivate(wrappedElement.content);
		} 

		if (wrappedElement.tab.onSelect) {
			wrappedElement.tab.onSelect(wrappedElement.content);
		}

    },

    prepareRoot: function() {
    	var h = this;
    	
        var json = {
            $_tag: &quot;div&quot;, 
            class: &quot;tabs-container&quot;,
            $_append: [{
                $_tag: &quot;main&quot;, 
                class: &quot;tabs-contents&quot;, 
                id: h.id(&quot;contents&quot;),
            }, {
                $_tag: &quot;div&quot;, 
                class: &quot;tabs-header tabs-bg&quot;, 
                id: h.id(&quot;header&quot;),
            }]
        };

        return $_element(json);
    },
    
    id: function(name) {
    	return this.serial + name;
    }
});
bardia.list = {

};
/**
 *
 */
bardia.list.List = bardia.oop.Class.create({
    /**
     *
     */
    initialize: function(config) {
        this.config = config;
        
        this.render();
    },
    /**
     *
     */
    render: function() {
        var h = this;
        
        h.config.inside.update();

        h.root = $_element({
            $_tag: &quot;table&quot;,
            class: &quot;mdl-data-table mdl-js-data-table mdl-shadow--2dp&quot;,
            $_append: [{
                $_tag: &quot;thead&quot;,
                $_append: [{
                    $_tag: &quot;tr&quot;,
                    $_append: [{
                        $_tag: &quot;th&quot;,
                        class: &quot;mdl-data-table__cell--non-numeric&quot;,
                        style: &quot;background-color:yellow&quot;,
                        $_append: &quot;A&quot;
                    }, {
                        $_tag: &quot;th&quot;,
                        $_append: &quot;B&quot;
                    }, {
                        $_tag: &quot;th&quot;,
                        $_append: &quot;C&quot;
                    }]
                }]
            }, {
                $_tag: &quot;tbody&quot;,
                $_append: [{
                    $_tag: &quot;tr&quot;,
                    $_append: [{
                        $_tag: &quot;td&quot;,
                        class: &quot;mdl-data-table__cell--non-numeric&quot;,
                        $_append: &quot;Grzegorz&quot;
                    }, {
                        $_tag: &quot;td&quot;,
                        $_append: [{
                            $_tag: &quot;INPUT&quot;,
                            type: &quot;number&quot;
                        }]
                    }, {
                        $_tag: &quot;td&quot;,
                        $_append: &quot;Julia&quot;
                    }]
                }, {
                    $_tag: &quot;tr&quot;,
                    $_append: [{
                        $_tag: &quot;td&quot;,
                        class: &quot;mdl-data-table__cell--non-numeric&quot;,
                        $_append: &quot;Agnieszka&quot;
                    }, {
                        $_tag: &quot;td&quot;,
                        $_append: &quot;BBB&quot;
                    }, {
                        $_tag: &quot;td&quot;,
                        $_append: &quot;CCC&quot;
                    }]
                }]
            }]
        });
        
        h.config.inside.insert(h.root);
        
        $_upgradeElement(h.root);
    }
});
/**
 *
 */
bardia.list.MobileList = (function() {
    
    var h = this;
    
    function prepareRoot() {
        var result = $_element({
            $_tag: &quot;ul&quot;,
            class: &quot;collection with-header&quot;,
            $_append: [{
                $_tag: &quot;li&quot;,
                class: &quot;collection-header&quot;,
                $_append: &quot;&lt;h4&gt;First Names&lt;/h4&gt;&quot;
            }, {
                $_tag: &quot;li&quot;,
                class: &quot;collection-item&quot;,
                $_append: &quot;Wojtek&quot;
            }, {
                $_tag: &quot;li&quot;,
                class: &quot;collection-item&quot;,
                $_append: &quot;Ela&quot;
            }, {
                $_tag: &quot;li&quot;,
                class: &quot;collection-item&quot;,
                $_append: &quot;Piotr&quot;,
                $_on: {
                    &quot;click&quot;: function(e) {
                        alert(e);
                    }
                }
            }]
        });

        return result;
    }

    function _mobileList(config) {
        var root = prepareRoot();
        config.inside.insert(root);
    };

    return _mobileList;
})();

/*
      &lt;ul class=&quot;collection with-header&quot;&gt;
        &lt;li class=&quot;collection-header&quot;&gt;&lt;h4&gt;First Names&lt;/h4&gt;&lt;/li&gt;
        &lt;li class=&quot;collection-item&quot;&gt;Alvin&lt;/li&gt;
        &lt;li class=&quot;collection-item&quot;&gt;Alvin&lt;/li&gt;
        &lt;li class=&quot;collection-item&quot;&gt;Alvin&lt;/li&gt;
        &lt;li class=&quot;collection-item&quot;&gt;Alvin&lt;/li&gt;
      &lt;/ul&gt;
 */
bardia.grid = {

};

bardia.grid.Grid = bardia.oop.Class.create({
	
    detailsWidth: &quot;400px&quot;,

    initialize: function(config) {
        bardia.oop.Class.extend(this, bardia.oop.Class.extend({
        	title: &quot;Insert tile here. . .&quot;,
        	clickAfterFetch: false,
        	serial: &quot;S_&quot; + (Math.random()*1000000).toFixed(0),
        }, config));
        
        this.render();
    },

    render: function() {
        var h = this;

        h.root = $_element({
        	$_tag: &quot;div&quot;,
        	class: &quot;grid-container&quot;,
        	$_append:[{
        		$_tag: &quot;div&quot;,
        		id: h.id(&quot;toolbar&quot;),
        		class: &quot;grid-top grid-bg&quot;,
        	}, {
	            $_tag: &quot;div&quot;,
	            class: &quot;grid-content&quot;,
	            $_append: [{
	                $_tag: &quot;div&quot;,
	                class: &quot;grid-headers&quot;,
	                id: h.id(&quot;grid-headers&quot;),
	                $_append: h.columns.map(function(column) {
	                    return {
	                        $_tag: &quot;div&quot;,
	                        class: &quot;grid-header&quot;,
	                        style: &quot;width:&quot; + (column.width || 150) + &quot;px&quot;,
	                        $_append: column.name
	                    };
	                })
	            }, {
	                $_tag: &quot;div&quot;,
	                class: &quot;grid-rows&quot;,
	                id: h.id(&quot;grid-rows&quot;),
	                $_on: {
	                    &quot;click&quot;: function(e) {
	                    	var element = e.target; 
	                    	while(element.className &amp;&amp; element.className !== &quot;grid-row&quot;) {
	                    		element = element.parentElement;
	                    	}
	                    	if (element.wrapper &amp;&amp; element.className &amp;&amp; element.className == &quot;grid-row&quot;) {
	                    		h.onClick(element.wrapper);
	                    	}
	                    }
	                }
	            }]
        	}, {
                $_tag: &quot;div&quot;,
                class: &quot;grid-curtain&quot;,
                id: h.id(&quot;grid-curtain&quot;),
                $_on: {
                    &quot;click&quot;: function() {
                        h.closeDetails();
                    }
                },
                $_append: [{
                    $_tag: &quot;div&quot;,
                    class: &quot;grid-details-right&quot;,
                    id: h.id(&quot;grid-details-right&quot;),
                    style: &quot;width:&quot; + h.detailsWidth + &quot;; left:-&quot; + h.detailsWidth, 
                    $_on: {
                    	&quot;click&quot;: function(e) {
                    		e.stopPropagation();
                    	}
                    }
                }]
            }]
        });

        h.inside.update(h.root);
        
        h.setButtons();
        h.setTitle(h.title);
        h.createSearchField();
    },
    
    setButtons: function() {
    	var h = this;
    	if (h.buttons) {
    		h.buttons.forEach(function(button, index) {
    			
    			var el = $_element({
    				$_tag: &quot;button&quot;,
    				class: &quot;mdl-button mdl-js-button mdl-button--icon&quot;,
    				$_append: [{
    					$_tag: &quot;div&quot;,
    					class: &quot;icon material-icons&quot;,
    					$_append: button.icon,
    				}],
    				$_on: {
    					&quot;click&quot;: function(e) {
    						button.onClick();
    					}
    				}
    			});
    			
    			h.root.find(h.id(&quot;toolbar&quot;)).insert(el);
    		});
    	}
    },

    setTitle: function(title) {
    	var h = this;

		var el = $_element({
			$_tag: &quot;div&quot;,
			class: &quot;grid-title&quot;,
			$_append: title
		});
    			
    	h.root.find(h.id(&quot;toolbar&quot;)).insert(el);
    },
    
    createSearchField: function() {
    	var h = this;
    	
    	var textSearch = $_element({
    		$_tag: &quot;div&quot;,
    		class: &quot;mdl-textfield mdl-js-textfield mdl-textfield--expandable mdl-textfield--floating-label mdl-textfield--align-right&quot;,
    		style: &quot;position:absolute; right:10px; margin-top:-8px&quot;,
    		$_append: [{
    			$_tag: &quot;label&quot;,
    			class: &quot;mdl-button mdl-js-button mdl-button--icon&quot;,
    			&quot;for&quot;: h.id(&quot;search_input&quot;),
    			$_append: [{
    				$_tag: &quot;i&quot;,
    				class: &quot;material-icons&quot;,
    				$_append: &quot;search&quot;
    			}]
    		}, {
    			$_tag: &quot;div&quot;,
    			class: &quot;mdl-textfield__expandable-holder&quot;,
    			$_append: [{
    				$_tag: &quot;input&quot;,
    				class: &quot;mdl-textfield__input&quot;,
    				style: &quot;background-color:transparent; font-size:14px; font-family:Arial; margin-bottom:4px&quot;,
    				type: &quot;text&quot;,
    				name: &quot;sample&quot;,
    			    id: h.id(&quot;search_input&quot;),
    			    $_on: {
    			    	keyup: function(e) {
    			    		h.filterRows(e.target.value);
    			    	}
    			    }
    			}]
    		}]
    	});
    	
    	h.root.find(h.id(&quot;toolbar&quot;)).insert(textSearch);
    	
    	$_upgradeElement(textSearch);
    },

    fetch: function(model) {
        var h = this;

        var rowsDiv = h.root.find(h.id(&quot;grid-rows&quot;));
        rowsDiv.update();

        h.firstRow = null;
        
        (model.rows || []).forEach(function(row) {
            var rowDiv = $_element({
                $_tag: &quot;div&quot;,
                class: &quot;grid-row&quot;,
            });
            rowsDiv.insert(rowDiv);
        	rowDiv.bean = row;
        	
        	h.firstRow = h.firstRow || rowDiv;

            h.columns.forEach(function(column) {            	
            	var cell = $_element({
                    $_tag: &quot;div&quot;,
                    class: &quot;grid-cell&quot;,
                    style: &quot;width:&quot; + (column.width || 150) + &quot;px&quot;,
                });
            	
            	if (column.render) {
            		var rendered = column.render(rowDiv, cell);	
            		if (rendered &amp;&amp; rendered != null &amp;&amp; rendered.$_tag &amp;&amp; rendered.$_tag != null) {
            			cell.insert($_element(rendered));
            		} else {
            			cell.insert(rendered);
            		}
            	} else {
                	cell.insert(&quot;&quot; + eval(&quot;rowDiv.bean.&quot; + column.property));
            	}

                rowDiv.insert(cell);
            });
        });
        
        if (h.clickAfterFetch == true) {
        	if (h.firstRow) {
        		h.firstRow.dom().click();
        	}
        }
        
    },

    filterRows: function(value) {
    	var h = this;

    	var rowsDiv = h.root.find(h.id(&quot;grid-rows&quot;));

    	for (var i=0; i&lt;rowsDiv.dom().childNodes.length; i++) {
    		if (rowsDiv.dom().childNodes[i].innerHTML.toLowerCase().indexOf(value.toLowerCase()) &gt;= 0) {
    			rowsDiv.dom().childNodes[i].style.display = &quot;flex&quot;
    		} else {
    			rowsDiv.dom().childNodes[i].style.display = &quot;none&quot;
    		}
    	}
    },

    openDetails: function() {
        var h = this;

        h.root.find(h.id(&quot;grid-curtain&quot;)).dom().style.width = &quot;100%&quot;;
        h.root.find(h.id(&quot;grid-curtain&quot;)).dom().style.background = &quot;rgba(0,0,0,0.5)&quot;;
        h.root.find(h.id(&quot;grid-details-right&quot;)).dom().style.left = &quot;0px&quot;;
        
        return h.root.find(h.id(&quot;grid-details-right&quot;));
    },
    
    closeDetails: function() {
        var h = this;

        h.root.find(h.id(&quot;grid-curtain&quot;)).dom().style.width = &quot;0px&quot;;
        h.root.find(h.id(&quot;grid-curtain&quot;)).dom().style.background = &quot;rgba(0,0,0,0.0)&quot;;
        h.root.find(h.id(&quot;grid-details-right&quot;)).dom().style.left = &quot;-&quot; + h.detailsWidth;
    },
    
    id: function(name) {
    	return this.serial + name;
    }
});
bardia.form = {

};
/**
 *
 */
bardia.form.Form = bardia.oop.Class.create({

    detailsWidth: &quot;400px&quot;,

    initialize: function(config) {
        bardia.oop.Class.extend(this, bardia.oop.Class.extend({
            title: &quot;Insert title here ...&quot;,
            serial: &quot;S_&quot; + (Math.random()*1000000).toFixed(0),
        }, config));

        this.render();
    },

    render: function() {
        var h = this;

        h.prepareRoot();
        h.inside.update(h.root);
        
        h.setButtons();
    },
    
    setButtons: function() {
    	var h = this;
    	if (h.buttons) {
    		h.buttons.forEach(function(button) {
    			h.root.find(h.id(&quot;toolbar&quot;)).insert($_element({
    				$_tag: &quot;button&quot;,
    				class: &quot;mdl-button mdl-js-button mdl-button--icon&quot;,
    				title: button.name,
    				$_append: [{
    					$_tag: &quot;i&quot;,
    					class: &quot;material-icons&quot;,
    					$_append: button.icon
    				}],
    				$_on: {
    					&quot;click&quot;: function(e) {
    						if (button.onClick) {
    							button.onClick();
    						}
    					}
    				}
    			}));
    		});
    	}
    },

    prepareRoot: function() {
        var h = this;
        
        h.root = $_element({
        	$_tag: &quot;div&quot;,
        	class: &quot;form-container&quot;,
        	$_append: [{
        		$_tag: &quot;div&quot;,
        		id: h.id(&quot;toolbar&quot;),
        		class: &quot;form-top form-bg&quot;
        	}, {
        		$_tag: &quot;div&quot;,
        		class: &quot;form-content&quot;,
        		id: h.id(&quot;contents&quot;)
        	}]
        });

        h.fields.forEach(function(field) {
            var _field = bardia.oop.Class.extend({
                type: &quot;Text&quot;
            }, field);

            var formField = eval(&quot;new bardia.form.&quot; + _field.type + &quot;Field(_field)&quot;);

            formField.setForm(h);
            
            h.root.find(h.id(&quot;contents&quot;)).insert(formField.getElement());
        });

        h.root.insert($_element({
            $_tag: &quot;div&quot;,
            class: &quot;form-curtain&quot;,
            id: &quot;form-curtain&quot;,
            style: &quot;width:0px&quot;,
            $_on: {
                &quot;click&quot;: function() {
                    h.closeDetails();
                }
            },
            $_append: [{
                $_tag: &quot;div&quot;,
                class: &quot;form-details-right&quot;,
                id: &quot;form-details-right&quot;,
                $_on: {
                    &quot;click&quot;: function(e) {
                        e.preventDefault();
                        e.stopPropagation();
                    }
                },
            }]
        }));

        h.root.insert($_element({
        	$_tag: &quot;div&quot;,
        	class: &quot;form-progress&quot;,
        	id: h.id(&quot;form-progress&quot;),
        	$_append: [{
        		$_tag: &quot;div&quot;,
        		id: h.id(&quot;progress&quot;),
        		class: &quot;mdl-spinner mdl-spinner--single-color mdl-js-spinner&quot;
        	}, {
        		$_tag: &quot;div&quot;,
        		id: h.id(&quot;form-progress-label&quot;),
        		class: &quot;form-progress-label form-bg&quot;
        	}]
        }));
        
        $_upgradeElement(h.root.find(h.id(&quot;progress&quot;)));
    },

    addBeanChangedListener: function(listener) {
        var h = this;
        h.beanListeners = h.beanListeners || [];
        h.beanListeners.push(listener);
    },

    setBean: function(bean) {
        this.bean = bean;

        (this.beanListeners || []).forEach(function(listener) {
            listener(bean);
        });
    },

    getBean: function() {
    	this.bean = this.bean || {};
        return this.bean || {};
    },

    openDetails: function(width) {
        var h = this;

        h.root.find(&quot;form-curtain&quot;).dom().style.width = &quot;100%&quot;;
        h.root.find(&quot;form-details-right&quot;).dom().style.width = width || h.detailsWidth;

        var result = h.root.find(&quot;form-details-right&quot;);
        result.update();

        return result;
    },

    closeDetails: function() {
        var h = this;

        h.root.find(&quot;form-curtain&quot;).dom().style.width = &quot;0px&quot;;
    },

    openProgress: function() {
    	var h = this;
    	h.root.find(h.id(&quot;form-progress&quot;)).addClassName(&quot;form-progress-is-active&quot;);
    	h.root.find(h.id(&quot;progress&quot;)).addClassName(&quot;is-active&quot;);
    },

    closeProgress: function() {
    	var h = this;
    	h.root.find(h.id(&quot;form-progress&quot;)).removeClassName(&quot;form-progress-is-active&quot;);
    	h.root.find(h.id(&quot;progress&quot;)).removeClassName(&quot;is-active&quot;);
    },
    
    setProgressLabel: function(label) {
    	var h = this;
    	
    	h.root.find(h.id(&quot;form-progress-label&quot;)).update(label);
    },
    
    id: function(name) {
    	return this.serial + name;
    }
});
bardia.form.TextField = bardia.oop.Class.create({

    initialize: function(config) {

        bardia.oop.Class.extend(this, bardia.oop.Class.extend({
            label: &quot;Insert title here ...&quot;,
            pattern: &quot;.+&quot;,
            required: config.required || false,
            serial: &quot;S_&quot; + (Math.random()*1000000).toFixed(0),
        }, config));

        this.render();
    },

    render: function() {
        var h = this;

        h.root = $_element({
            $_tag: &quot;div&quot;,
            class: &quot;form-row&quot;,
            $_append: [{
                $_tag: &quot;input&quot;,
                class: &quot;form-text-input&quot;,
                type: &quot;text&quot;,
                pattern: h.pattern,
                required: true,
                id: h.id(h.property),
                $_on: {
                    change: function(e) {
                        h.updateBeanProperty(e.target.value);
                    }
                }
            }, {
                $_tag: &quot;label&quot;,
                class: &quot;form-text-input-label&quot;,
                $_append: h.label
            }]
        });
        
        if (h.required===true) {
            h.root.insert($_element({
                $_tag: &quot;label&quot;,
                class: &quot;form-text-input-error&quot;,
                $_append: $msg(&quot;text&quot;)
            }));
        }
    },

    getElement: function() {
        var h = this;
        return h.root;
    },

    updateBeanProperty: function(value) {
        var h = this;        
        eval(&quot;h.form.getBean().&quot; + h.property + &quot; = value;&quot;);
    },

    updateInputValue: function() {
        var h = this;
        h.root.find(h.id(h.property)).dom().value = eval(&quot;h.form.getBean().&quot; + h.property + &quot; || &#x27;&#x27;&quot;);
    },

    setForm: function(form) {
    	try {
	        var h = this;
	        h.form = form;
	        h.form.addBeanChangedListener(function(bean) {
	            h.updateInputValue(bean);
	        });
    	} catch (e) {
    		alert(&quot;&quot; + e);
    	}
    },
    
    id: function(name) {
    	return this.serial + name;
    }
});
/**
 * 
 */
bardia.form.ActionField = bardia.oop.Class.inherit(bardia.form.TextField, {

    initialize: function(config) {		
        bardia.oop.Class.extend(this, bardia.oop.Class.extend({
            label: &quot;Title ... &quot;,
            serial: &quot;S_&quot; + (Math.random()*1000000).toFixed(0),
        }, config));
        this.render();
    },

    render: function() {
        var h = this;

        h.root = $_element({
            $_tag: &quot;div&quot;,
            class: &quot;form-row&quot;,
            $_append: [{
                $_tag: &quot;input&quot;,
                class: &quot;form-text-input&quot;,
                required: true,
                type: &quot;text&quot;,
                id: h.id(h.property),
                $_on: {
                    change: function(e) {
                        h.updateBeanProperty(e.target.value);
                    },
                    keydown: function(e) {
                    	e.stopPropagation();
                    	e.preventDefault();
                    },
                    mousedown: function(e) {
                    	e.stopPropagation();
                    	e.preventDefault();
                    }
                }
            }, {
                $_tag: &quot;label&quot;,
                class: &quot;form-text-input-label&quot;,
                &quot;for&quot;: h.property,
                $_append: h.label
            }]
        });

        h.displayButton();
    },
    /**
     *  
     */
    displayButton: function() {
    	var h = this;
    	
    	h.root.insert($_element({
            $_tag: &quot;button&quot;,
            class: &quot;mdl-button mdl-js-button mdl-button--icon mdl-button--colored&quot;,
            $_on: {
                click: function(e) {
                    var element = h.form.openDetails(&quot;100%&quot;);
                    if (h.onExpand) {
                    	h.onExpand(element);
                    }
                }
            },
            $_append: [{
                $_tag: &quot;i&quot;,
                class: &quot;material-icons&quot;,
                $_append: &quot;keyboard_arrow_down&quot;,
            }]
        }));
    },
    
    id: function(name) {
    	return this.serial + name;
    }
});
/**
 * 
 */
bardia.form.DateField = bardia.oop.Class.inherit(bardia.form.ActionField, {

    initialize: function(config) {		
        bardia.oop.Class.extend(this, bardia.oop.Class.extend({
            label: &quot;Insert title here ... 2&quot;,
            date: new Date()
        }, config));

        this.render();
    },
    
    displayButton: function() {
    	var h = this;

    	h.root.insert($_element({
            $_tag: &quot;button&quot;,
            class: &quot;mdl-button mdl-js-button mdl-button--icon mdl-button--colored&quot;,
            $_on: {
                click: function(e) {
                    var element = h.form.openDetails(&quot;295px&quot;);
                    try {
                    	h.displayCalendar(element);
                    } catch (e) {
                    	alert(e);
                    }
                }
            },
            $_append: [{
                $_tag: &quot;i&quot;,
                class: &quot;material-icons&quot;,
                $_append: &quot;today&quot;,
            }]
        }));
    },
    /**
     * 
     */
    displayCalendar: function(html) {    	
    	var h = this;

    	h.calendarRoot = $_element({
    		$_tag: &quot;div&quot;,
    		class: &quot;calendar-container&quot;,
    		$_append: [{
    			$_tag: &quot;div&quot;,
    			class: &quot;calendar-weekday&quot;,
    			id: &quot;weekday&quot;
    		}, {
    			$_tag: &quot;div&quot;,
    			class: &quot;calendar-month&quot;,
    			id: &quot;month&quot;
    		}, {
    			$_tag: &quot;div&quot;,
    			class: &quot;calendar-month-day&quot;,
    			id: &quot;month-day&quot;
    		}, {
    			$_tag: &quot;div&quot;,
    			class: &quot;calendar-year&quot;,
    			id: &quot;year&quot;
    		}, {
    			$_tag: &quot;div&quot;,
    			class: &quot;calendar-navigation&quot;,
    			id: &quot;month-navigation&quot;,
    			$_append: [{
    	            $_tag: &quot;button&quot;,
    	            class: &quot;mdl-button mdl-js-button mdl-button--icon mdl-button--colored&quot;,
    	            $_on: {
    	                click: function(e) {
    	                	h.minusMonth();
    	                }
    	            },
    	            $_append: [{
    	                $_tag: &quot;i&quot;,
    	                class: &quot;material-icons&quot;,
    	                $_append: &quot;keyboard_arrow_left&quot;,
    	            }]
    	        }, {
    	        	$_tag: &quot;div&quot;,
    	        	id: &quot;month-full-name&quot;
    	        }, {
    	            $_tag: &quot;button&quot;,
    	            class: &quot;mdl-button mdl-js-button mdl-button--icon mdl-button--colored&quot;,
    	            $_on: {
    	                click: function(e) {
    	                	h.plusMonth();
    	                }
    	            },
    	            $_append: [{
    	                $_tag: &quot;i&quot;,
    	                class: &quot;material-icons&quot;,
    	                $_append: &quot;keyboard_arrow_right&quot;,
    	            }]
    	        }]
    		}, {
    			$_tag: &quot;div&quot;,
    			class: &quot;calendar-days&quot;,
    			id: &quot;month-days&quot;,
    		}, {
    			$_tag: &quot;div&quot;,
    			class: &quot;calendar-buttons&quot;,
    			id: &quot;month-buttons&quot;
    		}],
    	});

    	html.insert(h.calendarRoot);
    	    	
    	h.updateDaysView();
    },
    
    plusMonth: function() {
    	var h = this;
    	h.date.setMonth(h.date.getMonth() + 1);
    	h.updateDaysView();
    },
    
    minusMonth: function() {
    	var h = this;
    	h.date.setMonth(h.date.getMonth() - 1);
    	h.updateDaysView();
    },
    
    updateDaysView: function() {
    	var h = this;
    	
    	h.date = h.date || eval(&quot;h.form.getBean().&quot; + h.property) || new Date();    	
    	
    	h.calendarRoot.find(&quot;month-days&quot;).update();
    	var days = h.prepareDaysRows();
    	days.forEach(function(_day) {
    		h.calendarRoot.find(&quot;month-days&quot;).insert($_element(_day));
    	});

    	h.setWeekday();
    	h.setMonth();
    	h.setMonthFullName();
    	h.setMonthDay();
    	h.setYear();
    },

    prepareDaysRows: function() {
    	var h = this;
    	
    	var result = [];

    	var clonedDate = new Date(h.date.getTime());
    	clonedDate.setDate(1);
    	clonedDate.setHours(12);
    	clonedDate.setMinutes(0);
    	clonedDate.setSeconds(0);
    	clonedDate.setMilliseconds(0);

    	var currentMonth = clonedDate.getMonth();

    	clonedDate.setTime(clonedDate.getTime() - (clonedDate.getDay()*24*60*60*1000));

    	var i = 0;
    	for (i=0; i&lt;=41; i++) {
    		var aDate = new Date(clonedDate.getTime() + (i * 24 * 60 * 60 * 1000));

    		var bgColor = &quot;transparent&quot;;
    		var color = &quot;white&quot;;
    		if (aDate.getMonth() == currentMonth) {
    			color = &quot;black&quot;;

    			if (aDate.getDay() == 0) {
    				color = &quot;red&quot;;
    			}

    			if (aDate.getDate() == h.date.getDate()) {
    				bgColor = &quot;#3f51b5&quot;;
    				color = &quot;white&quot;;
    			}
    		}

    		result.push({
    			$_tag: &quot;div&quot;,
    			class: &quot;calendar-single-day mdl-js-ripple-effect&quot;,
    			style: &quot;color:&quot; + color + &quot;; background-color:&quot; + bgColor,
    			$_props: {
    				date: aDate
    			},
    			$_on: {
    				click: function(e) {
    					h.updateBeanProperty(e.target.date.getTime());
    					h.updateInputValue(h.form.getBean());
    					h.form.closeDetails();
    				}
    			},
    			$_append: &quot;&quot; + aDate.getDate()
    		});
    	}

    	return result;
    },

    updateInputValue: function(bean) {
        var h = this;

        h.root.find(h.property).dom().value = bardia.form.DateField.DU.createFormatYYYYMMDD(eval(&quot;bean.&quot; + h.property));
    },

    setWeekday: function() {
    	this.calendarRoot.find(&quot;weekday&quot;).update(bardia.form.DateField.WEEKDAYS[this.date.getDay()]);
    },
    
    setMonth: function() {
    	this.calendarRoot.find(&quot;month&quot;).update(bardia.form.DateField.SHORT_MONTHS[this.date.getMonth()]);
    },
    
    setMonthFullName: function() {
    	this.calendarRoot.find(&quot;month-full-name&quot;).update(bardia.form.DateField.MONTHS[this.date.getMonth()]);
    },
    
    setMonthDay: function() {
    	this.calendarRoot.find(&quot;month-day&quot;).update(&quot;&quot; + this.date.getDate());
    },

    setYear: function() {
    	this.calendarRoot.find(&quot;year&quot;).update(&quot;&quot; + this.date.getFullYear());
    },
});

bardia.form.DateField.WEEKDAYS = [&quot;SUNDAY&quot;, &quot;MONDAY&quot;, &quot;TUESDAY&quot;, &quot;WEDNESDAY&quot;, &quot;THURSDAY&quot;, &quot;FRIDAY&quot;, &quot;SATURDAY&quot;];
bardia.form.DateField.MONTHS = [&quot;JANUARY&quot;, &quot;FEBRUARY&quot;, &quot;MARCH&quot;, &quot;APRIL&quot;, &quot;MAY&quot;, &quot;JUNE&quot;, &quot;JULY&quot;, &quot;AUGUST&quot;, &quot;SEPTEMBER&quot;, &quot;OCTOBER&quot;, &quot;NOVEMBER&quot;, &quot;DECEMBER&quot;];
bardia.form.DateField.SHORT_MONTHS = [&quot;JAN&quot;, &quot;FEB&quot;, &quot;MAR&quot;, &quot;APR&quot;, &quot;MAY&quot;, &quot;JUN&quot;, &quot;JUL&quot;, &quot;AUG&quot;, &quot;SEP&quot;, &quot;OCT&quot;, &quot;NOV&quot;, &quot;DEC&quot;];
bardia.form.DateField.DU = new bardia.utils.DateUtils();

/**
 * 
 */
bardia.form.LookupField = bardia.oop.Class.inherit(bardia.form.ActionField, {

    /**
     *  
     */
    displayButton: function() {
    	var h = this;
    	
    	h.root.insert($_element({
            $_tag: &quot;button&quot;,
            class: &quot;mdl-button mdl-js-button mdl-button--icon mdl-button--colored&quot;,
            $_on: {
                click: function(e) {
                    var element = h.form.openDetails(&quot;100%&quot;);
                    if (h.onExpand) {
                    	h.onExpand(element);
                    }
                }
            },
            $_append: [{
                $_tag: &quot;i&quot;,
                class: &quot;material-icons&quot;,
                $_append: &quot;keyboard_arrow_down&quot;,
            }]
        }));
    },
    
    updateInputValue: function() {
        var h = this;

        var inputValue = eval(&quot;h.form.getBean().&quot; + h.property + &quot; || &#x27;&#x27;&quot;);
        
        if (h.formatLabel) {
        	try {
        		inputValue = h.formatLabel(h.form.getBean());
        	} catch (e) {
        		alert(&quot;updateInputValue(): &quot; + e);
        	}
        }
        h.root.find(h.id(h.property)).dom().value = inputValue;
    },
});

bardia.form.BooleanField = bardia.oop.Class.inherit(bardia.form.TextField, {

    initialize: function(config) {		
        bardia.oop.Class.extend(this, bardia.oop.Class.extend({
            serial: &quot;S_&quot; + (Math.random()*1000000).toFixed(0),
        }, config));
        
        this.render();
    },

    render: function() {
    	var h = this;
    	
        h.root = $_element({
            $_tag: &quot;div&quot;,
            class: &quot;form-row&quot;,
            $_append: [{
            	$_tag: &quot;input&quot;,
            	type: &quot;checkbox&quot;,
            	id: h.property,
            	$_on: {
            		&quot;change&quot;: function(e) {
            			h.updateBeanProperty(e.target.checked);
            		}
            	}
            }, {
            	$_tag: &quot;span&quot;,
            	class: &quot;mdl-checkbox__label&quot;,
            	$_append: h.label || &quot;???&quot; + h.property + &quot;???&quot;
            }]
        });
    },

    updateInputValue: function(bean) {
        var h = this;
        h.root.find(h.property).dom().checked = eval(&quot;bean.&quot; + h.property) || false;
    },
});

bardia.form.IntegerField = bardia.oop.Class.inherit(bardia.form.TextField, {

    initialize: function(config) {		
        bardia.oop.Class.extend(this, bardia.oop.Class.extend({
            label: &quot;Boolean value ...&quot;
        }, config));
        
        this.render();
    },
});
bardia.form.FileField = bardia.oop.Class.inherit(bardia.form.ActionField, {

    /**
     *  
     */
    displayButton: function() {
    	var h = this;

    	h.serial = &quot;upload_&quot; + (Math.random()*1000000).toFixed(0);
    	
    	h.root.insert($_element({
            $_tag: &quot;button&quot;,
            class: &quot;mdl-button mdl-js-button mdl-button--icon mdl-button--colored&quot;,
            $_on: {
                click: function(e) {
                	h.root.find(h.serial).dom().click();
                }
            },
            $_append: [{
                $_tag: &quot;i&quot;,
                class: &quot;material-icons&quot;,
                $_append: &quot;file_upload&quot;,
            }, {
    			$_tag: &quot;form&quot;,
    		    action: bardia.uploadAction,
    		    method: &quot;POST&quot;,
    		    enctype: &quot;multipart/form-data&quot;,
    		    target: h.serial,
    		    style: &quot;display:none; width:0px; height:0px&quot;,
    		    $_append: [{
    				$_tag: &quot;input&quot;,
    				type: &quot;file&quot;,
    				name: &quot;fileName_&quot; + h.serial,
    				id: h.serial,
    				style: &quot;display:none&quot;,
    				$_on: {
    					&quot;change&quot;: function() {
    						h.form.openProgress();
    						
    						var form = new FormData();
    							form.append(&quot;file&quot;, h.root.find(h.serial).dom().files[0]);

    						var xhr = new XMLHttpRequest();

    						xhr.upload.addEventListener(&quot;progress&quot;, function(e) {
    							var pc = parseInt(100 - (e.loaded / e.total * 100));
    							h.form.setProgressLabel(&quot;&quot; + (100 - pc) + &quot; %&quot;);
    						}, false);

    						xhr.onreadystatechange = function (evt) {
    							if (xhr.readyState == 4) {
    								h.form.closeProgress();

    								var createdFile = JSON.parse(xhr.responseText);						
    			                    	h.updateBeanProperty(createdFile);
    			                    	h.updateInputValue(h.form.getBean());
    			                    	
    			            		if (h.onChange !== undefined) {
    			            			h.onChange(createdFile);
    			            		}
    							}
    						};

    						xhr.open(&quot;POST&quot;, bardia.uploadAction, true);
    						xhr.send(form);
    					}
    				}
    			}]
    		}]
        }));
    },
    
    updateInputValue: function(bean) {
        var h = this;
        var file = eval(&quot;bean.&quot; + h.property + &quot; || {name:&#x27;&#x27;}&quot;);
        h.root.find(h.property).dom().value = file.name;
    },
});
    </pre>
</div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<script src="../assets/vendor/prettify/prettify-min.js"></script>
<script>prettyPrint();</script>
<script src="../assets/js/yui-prettify.js"></script>
<script src="../assets/../api.js"></script>
<script src="../assets/js/api-filter.js"></script>
<script src="../assets/js/api-list.js"></script>
<script src="../assets/js/api-search.js"></script>
<script src="../assets/js/apidocs.js"></script>
</body>
</html>
